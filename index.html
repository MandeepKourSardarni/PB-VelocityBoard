<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PB VelocityBoard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="utils.js" defer></script>
    <script src="app.js" defer></script>
    <script src="theme.js" defer></script>

    <!-- NEW Analytics Engine -->
    <script src="analytics.js" defer></script>

    <!-- Export logic -->
    <script src="export.js" defer></script>
</head>

<body>

    <!-- Main Container -->
    <div id="appContainer">

        <!-- ================= FIRST PAGE: SELECT ATHLETE ================= -->
        <div id="athleteSelectScreen" class="screen activeScreen">
            <div class="glassHeader">
                <h1 class="mainTitle">PB VelocityBoard</h1>
                <h1 class="subtitle">Track ‚Ä¢ Improve ‚Ä¢ Celebrate</h1>
                
            </div>


            <div id="athleteList"></div>

            <button class="primaryBtn addAthleteBtn" onclick="openAddAthleteModal()">
                ‚ûï Add Athlete
            </button>
        </div>

        <!-- ================= HOME TAB ================= -->
        <div id="homeTab" class="screen hiddenScreen">
            <h2 class="screenTitle">Home</h2>
            <div id="pbTilesContainer"></div>

            <button class="primaryBtn" onclick="openAddEntryModal()">
                ‚ûï Add Race Entry
            </button>

            <div id="entriesContainer"></div>
        </div>

        <!-- ================= SETTINGS TAB ================= -->
        <div id="settingsTab" class="screen hiddenScreen">
            <h2 class="screenTitle">Settings</h2>

            <div id="athleteSettingsSection"></div>

            <button class="dangerBtn" onclick="resetAllData()">
                Reset Everything
            </button>
        </div>

        <!-- ================= ANALYTICS TAB (NEW) ================= -->
        <div id="analyticsTab" class="screen hiddenScreen">
            <h2 class="screenTitle">Analytics</h2>
            <div id="analyticsCardsContainer"></div>
        </div>

        <!-- ================= EXPORT TAB ================= -->
        <div id="exportTab" class="screen hiddenScreen">
            <h2 class="screenTitle">Export</h2>
        </div>

        <!-- ================= BOTTOM NAVIGATION ================= -->
        <div id="bottomNav">
            <button onclick="switchTab('homeTab')" class="navBtn">üè†<br>Home</button>
            <button onclick="switchTab('settingsTab')" class="navBtn">‚öôÔ∏è<br>Settings</button>
            <button onclick="switchTab('analyticsTab')" class="navBtn">üìä<br>Analytics</button>
            <button onclick="switchTab('exportTab')" class="navBtn">üì§<br>Export</button>
        </div>
    </div>

    <!-- ================= ADD ATHLETE MODAL ================= -->
    <div id="addAthleteModal" class="modal hiddenModal">
        <div class="modalContent">
            <h2>Add Athlete</h2>

            <label class="modalLabel">Athlete Name</label>
            <input id="athleteNameInput" class="textInput" placeholder="Enter athlete name">

            <label class="modalLabel">Age</label>
            <input id="athleteAgeInput" type="number" class="textInput" placeholder="Age">

            <label class="modalLabel">Profile Emoji (optional)</label>
            <input id="athleteEmojiInput" class="textInput" placeholder="Choose a fun emoji! ‚≠ê (optional)">

            <div class="modalBtns">
                <button class="primaryBtn" onclick="saveNewAthlete()">Save</button>
                <button class="secondaryBtn" onclick="closeAddAthleteModal()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- ================= ADD ENTRY MODAL ================= -->
    <!-- ============================================================
     ADD ENTRY MODAL ‚Äî FULLSCREEN WITH MULTI-DISTANCE INPUT
============================================================ -->
<div id="addEntryModal" class="modal hiddenModal">

    <div class="modalContentFull">

        <h2 class="modalTitle">Add Race Entry</h2>

        <!-- Location -->
        <label class="inputLabel">Location</label>
        <input id="entryLocationInput" class="inputField" type="text" placeholder="e.g., Brampton">

        <!-- Date -->
        <label class="inputLabel" style="margin-top:12px;">Race Date</label>
        <input id="entryDateInput" class="inputField" type="date">

        <hr class="modalDivider">

        <!-- MULTI-DISTANCE AREA -->
        <div id="distanceRowsContainer"></div>

        <button class="secondaryBtn" onclick="addDistanceRow()">‚ûï Add Another Distance</button>

        <div class="modalActions">
            <button class="primaryBtn" onclick="saveMultiDistanceEntry()">Save Entry</button>
            <button class="dangerBtn" onclick="closeAddEntryModal()">Cancel</button>
        </div>

    </div>
</div>


    <!-- Toast Notification -->
    <div id="toast"></div>

</body>
</html>




